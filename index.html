<!DOCTYPE html>
<html>
    <head>
        <meta charset=""utf-8">
        <meta name="viewport" content="width=device-width">
        <title>
            VW GUI
        </title>
        <link href="style.css" rel="stylesheet" type="text/css" />

        <style>
            #steering-wheel {
                width: 300px;
                height: 275px;
                background-image: url('steering-wheel-state1.png');
                background-size: 300px;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div id="chart">
                <canvas id="myChart"></canvas>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                const ctx = document.getElementById('myChart');

                new Chart(ctx, {
                    type: 'bar',
                    data: {
                    labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                    datasets: [{
                        label: '# of Votes',
                        data: [12, 19, 3, 5, 2, 3],
                        borderWidth: 1
                    }]
                    },
                    options: {
                    scales: {
                        y: {
                        beginAtZero: true
                        }
                    }
                    }
                });
            </script>

            <div id="steering-wheel">
                <script>
                    // Function to update the steering wheel image based on CAN messages
                    function updateSteeringWheelImage(canData) {
                        const steeringWheel = document.getElementById('steering-wheel');
            
                        // Check the CAN message or data to determine the state
                        // For example, you can use a property in canData like "state" to indicate the state
                        const state = wheel_canData.state;
            
                        // Update the image based on the state
                        if (state === 'state1') {
                            steeringWheel.style.backgroundImage = "url('steering-wheel-state1.jpg')";
                        } else if (state === 'state2') {
                            steeringWheel.style.backgroundImage = "url('steering-wheel-state2.jpg')";
                        }
                    }
            
                    // Simulated CAN message data (replace with your actual data source)
                    const wheel_canData = {
                        state: 'state1', // Initial state
                    };
            
                    // Simulate receiving CAN messages and updating the image
                    setInterval(function () {
                        // Update the CAN data from your actual source
                        // For this example, we'll just toggle between state1 and state2
                        wheel_canData.state = wheel_canData.state === 'state1' ? 'state2' : 'state1';
                        updateSteeringWheelImage(wheel_canData);
                    }, 1000); // Update every 1 seconds (adjust as needed)
                </script>
            </div>
        </div>
    </body>
</html>